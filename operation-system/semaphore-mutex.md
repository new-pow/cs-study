## âœ”ï¸ ë“¤ì–´ê°€ê¸° ì „...

ë®¤í…ìŠ¤ì™€ ì„¸ë§ˆí¬ì–´ë¥¼ ì•Œì•„ë³´ê¸° ì „, ì„ê³„êµ¬ì—­(Critical Section)ì— ëŒ€í•´ ë¨¼ì € ì •ë¦¬í•˜ì.

## ğŸ’¡ ì„ê³„êµ¬ì—­(Critical Section)ì´ë€?

> ì—¬ëŸ¬ í”„ë¡œê·¸ë¨ í˜¹ì€ ì“°ë ˆë“œê°€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ì„œ ê³µìœ ëœ ìì›ì„ ê±´ë“œë¦¬ê²Œ ë  ìˆ˜ ìˆëŠ”ë°,  
> ì´ë•Œ í”„ë¡œê·¸ë¨ ì½”ë“œ ìƒì—ì„œ **ê³µìœ  ìì›ì— ì ‘ê·¼í•˜ëŠ” ë¶€ë¶„**ì„ **ì„ê³„êµ¬ì—­**ì´ë¼ê³  í•œë‹¤.

ì´ë ‡ê²Œ ì„ê³„ êµ¬ì—­ì— ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ ë° ìŠ¤ë ˆë“œê°€ í•¨ë¶€ë¡œ ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡Â 

**ë°ì´í„°ë¥¼ í•œ ë²ˆì— í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì œí•œì„ ë‘ëŠ” ë™ê¸°í™” ë°©ì‹**ì„ ì·¨í•´ì•¼ í•œë‹¤.

ë™ê¸°í™” ë„êµ¬ì—ëŠ” ëŒ€í‘œì ìœ¼ë¡œ ì„¸ë§ˆí¬ì–´(Semaphore)ì™€ ë®¤í…ìŠ¤(Mutex)ê°€ ìˆë‹¤.

ğŸ”’ ì´ë“¤ì€ ëª¨ë‘ **ê³µìœ ëœ ìì›ì˜ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ìŠ¤ë ˆë“œ/í”„ë¡œì„¸ìŠ¤ê°€ ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ë§‰ëŠ” ì—­í• **ì„ í•œë‹¤.

ì„¸ë§ˆí¬ì–´ëŠ” ì¼ë°˜í™”ëœ ë®¤í…ìŠ¤ì´ë‹¤.Â 

ë”°ë¼ì„œ ë®¤í…ìŠ¤ì— ëŒ€í•´ ë¨¼ì € ì•Œì•„ë³´ì.

> ğŸ’¡ ë®¤í…ìŠ¤ì™€ ì„¸ë§ˆí¬ì–´ì˜ ì°¨ì´ëŠ” ì„œë¡œ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ìƒí˜¸ë°°ì œë¥¼ ë‹¬ì„±í•œë‹¤.Â   
> (â€» ìƒí˜¸ë°°ì œ : ì˜¤ì§ í•œ ì“°ë ˆë“œë§Œì´ ì§„ì… ê°€ëŠ¥í•¨)

ì´ì œ ì´ ë‘˜ì„ ì•Œì•„ë³´ì.

---

## âœ”ï¸ ë®¤í…ìŠ¤(Mutex) or ë®¤í…ìŠ¤ ë½(Mutex Lock)

> ì„ê³„ êµ¬ì—­ì„ ê°€ì§„ ìŠ¤ë ˆë“œë“¤ì˜ ì‹¤í–‰ì‹œê°„ì´ ì„œë¡œ ê²¹ì¹˜ì§€ ì•Šê³  ê°ê° ë‹¨ë…ìœ¼ë¡œ ì‹¤í–‰ë˜ê²Œ í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.  
>   
> â€» ìƒí˜¸ë°°ì œ(**Mut**ual **Ex**clusion)ì˜ ì•½ìì„

í•´ë‹¹ ì ‘ê·¼ì„ ì¡°ìœ¨í•˜ê¸° ìœ„í•´ lockê³¼ unlockì„ ì‚¬ìš©í•œë‹¤.

-   lock : í˜„ì¬ ì…ê³„ êµ¬ì—­ì— ë“¤ì–´ê°ˆ ê¶Œí•œì„ ì–»ì–´ì˜¨ë‹¤.
    -   ë§Œì•½ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ / ìŠ¤ë ˆë“œê°€ ì„ê³„ êµ¬ì—­ ìˆ˜í–‰ ì¤‘ì´ë©´, ì¢…ë£Œí•  ë•Œê¹Œì§€ ëŒ€ê¸°

-   unlock : í˜„ì¬ ì„ê³„ êµ¬ì—­ì„ ëª¨ë‘ ì‚¬ìš©í–ˆìŒì„ ì•Œë¦°ë‹¤.
    -   ëŒ€ê¸° ì¤‘ì¸ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ / ìŠ¤ë ˆë“œê°€ ì„ê³„ êµ¬ì—­ì— ì§„ì…í•  ìˆ˜ ìˆìŒ

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbGAeYA%2FbtrXVhdt7wW%2FWAPsKJi9vfPzcMxAu4XXFK%2Fimg.png)

â€» ì˜ë¬¸ ë²„ì „

ë”ë³´ê¸°

![]()

## âœ”ï¸ íŠ¹ì§•

-   ì„¸ë§ˆí¬ì–´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ, **ë³‘í–‰ ì²˜ë¦¬ë¥¼ ìœ„í•œ ë™ê¸°í™” ê¸°ë²•** ì¤‘ í•˜ë‚˜ì´ë‹¤.
-   ë™ê¸°í™” ëŒ€ìƒì´ **í•˜ë‚˜**ì´ë‹¤.
-   ì„ê³„êµ¬ì—­ì„ ê°€ì§„ ìŠ¤ë ˆë“œë“¤ì˜ ì‹¤í–‰ì‹œê°„(Running Time)ì´ ì„œë¡œ ê²¹ì¹˜ì§€ ì•Šê³ , ê°ê° ë‹¨ë…ìœ¼ë¡œ ì‹¤í–‰(ìƒí˜¸ë°°ì œ)ë˜ë„ë¡ í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.
-   í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œê°€ ê³µìœ  ìì›ì„ lock()ì„ í†µí•´ ì ê¸ˆ ì„¤ì •í•˜ê³ , ì‚¬ìš©í•œ í›„ì—ëŠ” unlock()ì„ í†µí•´ ì ê¸ˆ í•´ì œí•˜ëŠ” ê°ì²´ì´ë‹¤.
-   ì ê¸ˆì´ ì„¤ì •ë˜ë©´, ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œëŠ” ì ê¸´ ì½”ë“œ ì˜ì—­ì— ì ‘ê·¼í•  ìˆ˜ ì—†ê³ , í•´ì œëŠ” ê·¸ì™€ ë°˜ëŒ€ì´ë‹¤.
-   ë˜í•œ ë®¤í…ìŠ¤ëŠ” **ì ê¸ˆ** ë˜ëŠ” **í•´ì œ**ë¼ëŠ” ìƒíƒœë§Œì„ ê°€ì§„ë‹¤. (ìƒíƒœê°€ 0, 1)
-   ì¦‰, ë®¤í…ìŠ¤ ê°ì²´ë¥¼ ë‘ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

## ğŸ’¡ ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ì.

ë®¤í…ìŠ¤ëŠ” **í™”ì¥ì‹¤ì´ 'í•˜ë‚˜' ë°–ì— ì—†ëŠ” ì‹ë‹¹**ê³¼ ë¹„ìŠ·í•˜ë‹¤.

í™”ì¥ì‹¤ì„ ê°€ê¸° ìœ„í•´ì„œëŠ” **ì¹´ìš´í„°ì—ì„œ ì—´ì‡ ë¥¼ ë°›ì•„ê°€ì•¼** í•œë‹¤.

ë‹¹ì‹ ì´ í™”ì¥ì‹¤ì„ ê°€ë ¤ê³  í•˜ëŠ”ë° **ì¹´ìš´í„°ì— í‚¤ê°€ ìˆìœ¼ë©´ í™”ì¥ì‹¤ì— ì‚¬ëŒì´ ì—†ë‹¤**ëŠ” ëœ»ì´ê³ ,Â 

ë‹¹ì‹ ì€ ê·¸ ì—´ì‡ ë¥¼ ì´ìš©í•´ í™”ì¥ì‹¤ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤ê³  ê°€ì •í•˜ì.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fbq9C9x%2FbtrXVhq3GT9%2Fc7h1OJutJHb03cdskXwh8k%2Fimg.png)

> ì¹´ìš´í„°ì— **ì—´ì‡ ê°€ ì—†ê¸° ë•Œë¬¸**ì—Â   
> **í™”ì¥ì‹¤ì— ì‚¬ëŒ(ì—¬ì)ê°€ ìˆë‹¤ëŠ” ëœ»**ì´ë©°, ë‚¨ìëŠ” í™”ì¥ì‹¤ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.  
> ì¦‰, **ì—¬ìê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼** í•œë‹¤.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbjMgKv%2FbtrXVzdIAck%2FaRPBk5bbJc9ryBUSExKLLK%2Fimg.png)

> ê³§ì´ì–´ ë‹¤ë¥¸ ë‚¨ìë„ í™”ì¥ì‹¤ì— ê°€ê³  ì‹¶ì–´ì¡Œë‹¤.  
>   
> ì´ ë‚¨ì ë˜í•œ í™”ì¥ì‹¤ì— ë“¤ì–´ê°€ê¸° ìœ„í•´ì„œëŠ” ì¹´ìš´í„°ì—ì„œ ëŒ€ê¸°í•´ì•¼ í•œë‹¤.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcVrIT9%2FbtrXXgYMklx%2FbuKkuyQX3A5J3h3sASuavK%2Fimg.png)
> ì´ì œ ì—¬ìê°€ í™”ì¥ì‹¤ì—ì„œ ë‚˜ì™€ ì¹´ìš´í„°ì— í‚¤ë¥¼ ëŒë ¤ë†“ì•˜ë‹¤.  
>   
> ì´ì œ ê¸°ë‹¤ë¦¬ë˜ ì‚¬ëŒë“¤ ì¤‘ **ë§¨ ì•ì— ìˆë˜ ì‚¬ëŒ**ì€ í‚¤ë¥¼ ë°›ì„ ìˆ˜ ìˆê³ ,Â   
> ì´ë¥¼ ì´ìš©í•´ í™”ì¥ì‹¤ì„ ê°ˆ ìˆ˜ ìˆë‹¤.

ğŸ™ŒğŸ» ì´ê²ƒì´ ë®¤í…ìŠ¤ê°€ ë™ì‘í•˜ëŠ” ë°©ì‹ì´ë‹¤.

â†’ í™”ì¥ì‹¤ì„ ì´ìš©í•˜ëŠ” ì‚¬ëŒì´ **í”„ë¡œì„¸ìŠ¤ í˜¹ì€ ì“°ë ˆë“œ**ì´ë©°,Â 

â†’ í™”ì¥ì‹¤ì€ ê³µìœ  ìì›,Â 

â†’ í™”ì¥ì‹¤ í‚¤ëŠ” ê³µìœ ìì›ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì–´ë–¤ ì˜¤ë¸Œì íŠ¸ì´ë‹¤.

## âœ”ï¸ ê·¸ë˜ì„œ ê²°êµ­Â ë®¤í…ìŠ¤ê°€ ë­”ë°?

> ğŸ’¡ **ë®¤í…ìŠ¤ëŠ” ì˜¤ì§ í•˜ë‚˜ì˜ ì“°ë ˆë“œë§Œì´ ë™ì¼í•œ ì‹œì ì— ë®¤í…ìŠ¤ë¥¼ ì–»ì–´ ì„ê³„ ì˜ì—­ì— ë“¤ì–´ì˜¬ ìˆ˜ ìˆë‹¤.**  
>   
> ê·¸ë¦¬ê³  ì˜¤ì§ ì´ ì“°ë ˆë“œë§Œì´ ì„ê³„ ì˜ì—­ì—ì„œ ë‚˜ê°ˆ ë•Œ ë®¤í…ìŠ¤ë¥¼ í•´ì œí•  ìˆ˜ ìˆë‹¤.  
>   
> â†’ ì´ëŸ¬í•œ ì´ìœ ëŠ”, ë®¤í…ìŠ¤ê°€ 1ê°œì˜ ë½ë§Œì„ ê°–ëŠ” ë§¤ì»¤ë‹ˆì¦˜ì´ê¸° ë•Œë¬¸ì´ë‹¤.

â€» ê°„ë‹¨í•œ ì½”ë“œë¡œ ë³´ì.

ë”ë³´ê¸°

```
mutex = 1;

void lock () {
	while (mutex != 1) {
    	/* mutex ê°’ì´ 1ì´ ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.*/
    }
    /* ì´ êµ¬ì—­ì— ë„ì°©í–ˆë‹¤ëŠ” ê²ƒì€ mutex ê°’ì´ 1ì´ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤.
       ë”°ë¼ì„œ ì´ì œ ë®¤í…ìŠ¤ ê°’ì„ 0ìœ¼ë¡œ ë§Œë“¤ì–´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤(í˜¹ì€ ì“°ë ˆë“œ)ê°€ ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ ë§‰ì•„ì•¼ í•©ë‹ˆë‹¤.
    */
    mutex = 0;
}

void unlock() {
	/* ì„ê³„ êµ¬ì—­ì—ì„œ ë‚˜ì˜¨ í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë½ì„ í•´ì œí•©ë‹ˆë‹¤.*/
	mutex = 1;
}
```

---

## âœ”ï¸ ì„¸ë§ˆí¬ì–´(Semaphore)

> **ë©€í‹°í”„ë¡œê·¸ë˜ë°** í™˜ê²½ì—ì„œ, ê³µìœ  ìì›ì— ëŒ€í•œ **ì ‘ê·¼ì„ ì œí•œ**í•˜ëŠ” ë°©ë²•ì´ë‹¤.  
>   
> (ì—¬ê¸°ì„œ ë§í•˜ëŠ” '**ì ‘ê·¼ì„ ì œí•œ**'í•˜ëŠ” ê²ƒì´ë€?  
> â†’ ê³µìœ ëœ ìì›ì˜ ë°ì´í„°ë¥¼ í•œ ë²ˆì— í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒ)

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbOyjJo%2FbtrXYrTBMcS%2FFds4AxK0U30pX8DXOHgvqK%2Fimg.png)

â€» ì˜ë¬¸ ë²„ì „

ë”ë³´ê¸°



## âœ”ï¸ íŠ¹ì§•

-   ì„¸ë§ˆí¬ì–´ëŠ” ì¼ë°˜í™”ëœ ë®¤í…ìŠ¤ì´ë‹¤.
-   ê°„ë‹¨í•œ ì •ìˆ˜ ê°’ê³  ë‘ ê°€ì§€ í•¨ìˆ˜ wait(P í•¨ìˆ˜ë¼ê³ ë„ í•¨) ë° signal(V í•¨ìˆ˜ë¼ê³ ë„ í•¨)ë¡œ ê³µìœ  ìì›ì— ëŒ€í•œ ì ‘ê·¼ì„ ì²˜ë¦¬í•œë‹¤.
-   wait()ëŠ” ìì‹ ì˜ ì°¨ë¡€ê°€ ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” í•¨ìˆ˜ì´ë©°, signal()ì€ ë‹¤ìŒ í”„ë¡œì„¸ìŠ¤ë¡œ ìˆœì„œë¥¼ ë„˜ê²¨ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤.
-   í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œê°€ ê³µìœ  ìì›ì— ì ‘ê·¼í•˜ë©´, ì„¸ë§ˆí¬ì–´ì—ì„œ wait() ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³ , ìì›ì„ í•´ì œí•˜ë©´ ì„¸ë§ˆí¬ì–´ì—ì„œ signal() ì‘ì—…ì„ ìˆ˜í•­í•œë‹¤.
-   ì„¸ë§ˆí¬ì–´ì—ëŠ” ì¡°ê±´ ë³€ìˆ˜ê°€ ì—†ê³ , í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œê°€ ì„¸ë§ˆí¬ì–´ ê°’ì„ ìˆ˜ì •í•  ë•Œ, ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œëŠ” ë™ì‹œì— ì„¸ë§ˆí¬ì–´ ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.

## ğŸ’¡Â ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ì.

ì„¸ë§ˆí¬ì–´ëŠ” ì†ë‹˜ì´ í™”ì¥ì‹¤ì„ ì¢€ ë” ì‰½ê²Œ ì´ìš©í•  ìˆ˜ ìˆëŠ” ë ˆìŠ¤í† ë‘ì´ë‹¤.

ì„¸ë§ˆí¬ì–´ë¥¼ ì´ìš©í•˜ëŠ” ë ˆìŠ¤í† ë‘ì˜ í™”ì¥ì‹¤ì—ëŠ” '**ì—¬ëŸ¬ ê°œ**'ì˜ ì¹¸ì´ ìˆë‹¤.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcP7NKK%2FbtrXXx0UwUC%2FC6x8kZ2BPHQVpbNHSJebz0%2Fimg.png)

> í™”ì¥ì‹¤ ì…êµ¬ì—ëŠ” **í˜„ì¬ í™”ì¥ì‹¤ì˜Â ë¹ˆ ì¹¸ ê°œìˆ˜ë¥¼ ë³´ì—¬ì£¼ëŠ” ì „ê´‘íŒ**ì´ ìˆë‹¤.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FCMYle%2FbtrXWgyDDtM%2FQBV06MYvAt56rGFV5Bf920%2Fimg.png)

> ë§Œì•½ ë‹¹ì‹ ì´ í™”ì¥ì‹¤ì— ê°€ê³  ì‹¶ë‹¤ë©´, ì…êµ¬ì—ì„œ ë¹ˆ ì¹¸ì˜ ê°œìˆ˜ë¥¼ í™•ì¸í•˜ê³ Â   
> **ë¹ˆ ì¹¸ì´ 1ê°œ ì´ìƒì´ë¼ë©´ ë¹ˆì¹¸ì˜ ê°œìˆ˜ë¥¼ í•˜ë‚˜ ëº€ ë‹¤ìŒì— í™”ì¥ì‹¤ë¡œ ì…ì¥**í•´ì•¼ í•œë‹¤.  
>   
> ê·¸ë¦¬ê³  **ë‚˜ì˜¬ ë•Œ ë¹ˆ ì¹¸ì˜ ê°œìˆ˜ë¥¼ í•˜ë‚˜ ë”í•´**ì¤€ë‹¤.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbcUbcU%2FbtrXVxgnRgB%2F9HiPrxkQkyMOt8fJRXarU0%2Fimg.png)

> ë§Œì•½ **ëª¨ë“  ì¹¸ì— ì‚¬ëŒì´ ë“¤ì–´ê°”ì„ ê²½ìš°, ë¹ˆì¹¸ì˜ ê°œìˆ˜ëŠ” 0**ì´ ë˜ë©°Â   
> ì´ë•Œ í™”ì¥ì‹¤ì— ë“¤ì–´ê°€ê³ ì í•˜ëŠ” ì‚¬ëŒì´ ìˆë‹¤ë©´  
> **ë¹ˆ ì¹¸ì˜ ê°œìˆ˜ê°€ 1ë¡œ ë°”ë€” ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼** í•œë‹¤.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcVTayo%2FbtrX0K6neGT%2FYKIgm5cVg3FFW4aiwUBbuk%2Fimg.png)

> í™”ì¥ì‹¤ì„ ë‚˜ì˜¤ë©´ì„œ ì‚¬ëŒë“¤ì€ ë¹ˆ ì¹¸ì˜ ê°œìˆ˜ë¥¼ 1ì”© ë”í•œë‹¤.  
>   
> ê·¸ë¦¬ê³  ê¸°ë‹¤ë¦¬ë˜ ì‚¬ëŒì€ ì´ ìˆ«ìì—ì„œ ë‹¤ì‹œ 1ì„ ëº€ ë‹¤ìŒ í™”ì¥ì‹¤ë¡œ ë“¤ì–´ê°„ë‹¤.

ğŸ™ŒğŸ» ì´ê²ƒì´ ì„¸ë§ˆí¬ì–´ê°€ ë™ì‘í•˜ëŠ” ë°©ì‹ì´ë‹¤.

â†’ ì„¸ë§ˆí¬ì–´ëŠ” ê³µí†µìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” í•˜ë‚˜ì˜ ê°’ì„ ì´ìš©í•´(ê·¸ë¦¼ì˜ ì˜ˆì œì—ì„œëŠ” Num of Empty rooms) ìƒí˜¸ë°°ì œë¥¼ ë‹¬ì„±í•œë‹¤.

â†’ í™”ì¥ì‹¤ì´ ê³µìœ  ìì›ì´ë©°,Â 

â†’ ì‚¬ëŒë“¤ì´ ì“°ë ˆë“œ, í”„ë¡œì„¸ìŠ¤ì´ë‹¤.

â†’ í™”ì¥ì‹¤ ë¹ˆ ì¹¸ì˜ ê°œìˆ˜ëŠ” í˜„ì¬ ê³µìœ ìì›ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì“°ë ˆë“œ, í”„ë¡œì„¸ìŠ¤ì˜ ê°œìˆ˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

## âœ”ï¸ ì„¸ë§ˆí¬ì–´ì˜ ì¢…ë¥˜

í¬ê²Œ **ì¹´ìš´íŒ… ì„¸ë§ˆí¬ì–´(Counting Semaphores)**, **ë°”ì´ë„ˆë¦¬ ì„¸ë§ˆí¬ì–´(Binary Semaphore**) 2ì¢…ë¥˜ê°€ ìˆë‹¤.

-   ì¹´ìš´íŒ… ì„¸ë§ˆí¬ì–´
    -   ì„¸ë§ˆí¬ì–´ì˜ ì¹´ìš´íŠ¸ê°€ ì–‘ì˜ ì •ìˆ˜ê°’ì„ ê°€ì§„ë‹¤.
    -   ì„¤ì •í•œ ê°’ë§Œí¼ ì“°ë ˆë“œë¥¼ í—ˆìš©í•˜ê³ , ê·¸ ì´ìƒì˜ ì“°ë ˆë“œê°€ ìì›ì— ì ‘ê·¼í•˜ë©´ **ë½**ì´ ì‹¤í–‰ëœë‹¤.

-   ë°”ì´ë„ˆë¦¬ ì„¸ë§ˆí¬ì–´
    -   0ê³¼ 1ì˜ ë‘ ê°€ì§€ ê°’ë§Œ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ì„¸ë§ˆí¬ì–´ì´ë‹¤.
    -   Mutexì²˜ëŸ¼ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. ğŸš¨ í•˜ì§€ë§Œ ë®¤í…ìŠ¤ëŠ” ì ˆëŒ€ë¡œ ì„¸ë§ˆí¬ì–´ì²˜ëŸ¼ ì‚¬ìš©ë  ìˆ˜ ì—†ë‹¤.

â€» ë®¤í…ìŠ¤ì™€ ë°”ì´ë„ˆë¦¬ ì„¸ë§ˆí¬ì–´ì˜ ì°¨ì´

ë”ë³´ê¸°

êµ¬í˜„ì˜ ìœ ì‚¬ì„±ìœ¼ë¡œ ì¸í•´ ë®¤í…ìŠ¤ëŠ” ë°”ì´ë„ˆë¦¬ ì„¸ë§ˆí¬ì–´ë¼ê³  í•  ìˆ˜ ìˆì§€ë§Œ,Â 

ì—„ë°€íˆ ë§í•˜ë©´ ë®¤í…ìŠ¤ëŠ” **ì ê¸ˆ**ì„ ê¸°ë°˜ìœ¼ë¡œ ìƒí˜¸ ë°°ì œê°€ ì¼ì–´ë‚˜ëŠ” '**ì ê¸ˆ ë§¤ì»¤ë‹ˆì¦˜**'ì´ê³ ,Â 

ì„¸ë§ˆí¬ì–´ëŠ” **ì‹ í˜¸**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒí˜¸ ë°°ì œê°€ ì¼ì–´ë‚˜ëŠ” '**ì‹ í˜¸ ë§¤ì»¤ë‹ˆì¦˜**'ì´ë‹¤.

ì—¬ê¸°ì„œ ì‹ í˜¸ ë§¤ì»¤ë‹ˆì¦˜ì€Â 

íœ´ëŒ€í°ì—ì„œ ë…¸ë˜ë¥¼ ë“£ë‹¤ê³  ì¹œêµ¬ë¡œë¶€í„° ì „í˜¸ê°€ ì˜¤ë©´, ë…¸ë˜ê°€ ì¤‘ì§€ë˜ê³  í†µí™” ì²˜ë¦¬ ì‘ì—…ì— ê´€í•œ ì¸í„°í˜ì´ìŠ¤ê°€ ë“±ì¥í•˜ëŠ” ê²ƒì„ ìƒìƒí•˜ë©´ ëœë‹¤.

## âœ”ï¸ ê·¸ë˜ì„œ ê²°êµ­ ì„¸ë§ˆí¬ì–´ê°€ ë­”ë°?

> ğŸ’¡ **ì„¸ë§ˆí¬ì–´ëŠ” ê³µìœ  ìì›ì— ì„¸ë§ˆí¬ì–´ì˜ ë³€ìˆ˜ë§Œí¼(ì—¬ëŸ¬ ê°œ)ì˜ í”„ë¡œì„¸ìŠ¤(ë˜ëŠ” ì“°ë ˆë“œ)ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.**  
> (ì„¸ë§ˆí¬ì–´ì˜ ë³€ìˆ˜ â†’ ê³µìœ ìì›ì˜ ê°œìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜)  
>   
> ê·¸ë¦¬ê³  í˜„ì¬ ìˆ˜í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ì•„ë‹Œ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì„¸ë§ˆí¬ì–´ë¥¼ í•´ì œí•  ìˆ˜ ìˆë‹¤.

â€» ê°„ë‹¨í•œ ì½”ë“œë¡œ ë³´ì.

ë”ë³´ê¸°

```
struct semaphore {
	int count;
    	queueType queue;
};

void semWait (semaphore s) {
	s.count--;
    if (s.count < 0) 
    {
    	// ì´ êµ¬ì—­ìœ¼ë¡œ ë“¤ì–´ì™”ë‹¤ëŠ” ê²ƒì€ í˜„ì¬ í”„ë¡œì„¸ìŠ¤(ìŠ¤ë ˆë“œ)ê°€ ê³µìœ  ìì›ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸.
    	// ìš”ì²­í•œ í”„ë¡œì„¸ìŠ¤ë¥¼ s.queueì— ì—°ê²° (ëŒ€ê¸° íì— ì¶”ê°€)
      // ìš”ì²­í•œ í”„ë¡œì„¸ìŠ¤ë¥¼ ë¸”ë¡ ìƒíƒœë¡œ ë½
    }
} 

void semSignal (semaphore s) {
	s.count++;
    if (s.count <= 0) 
    {
    	// ëŒ€ê¸°í•˜ê³  ìˆëŠ” í”„ë¡œì„¸ìŠ¤(ìŠ¤ë ˆë“œ)ë¥¼ ìœ„í•´ s.queueì— ì—°ê²°ë˜ì–´ ìˆëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ íì—ì„œ ì œê±° (ëŒ€í‚¤íì—ì„œ ê¸°ë‹¤ë¦¬ë˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¤€ë¹„íë¡œ ì´ë™)
      // í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœë¥¼ ì‹¤í–‰ ê°€ëŠ¥ìœ¼ë¡œ ë³€ê²½í•˜ê³  ready listì— ì—°ê²°
    }
}
```

---

## âœ”ï¸ ë®¤í…ìŠ¤ì™€ ì„¸ë§ˆí¬ì–´ì˜ ì°¨ì´ì 

-   ê°€ì¥ í° ì°¨ì´ì ì€ **ê´€ë¦¬í•˜ëŠ” ë™ê¸°í™” ëŒ€ìƒì˜ ê°¯ìˆ˜**ì´ë‹¤.  
    -   MutexëŠ” ë™ê¸°í™” ëŒ€ìƒì´ **ì˜¤ì§ 1ê°œ**ì¼ ë•Œ ì‚¬ìš©
    -   SemaphoreëŠ” ë™ê¸°í™” ëŒ€ìƒì´ **1ê°œ ì´**ìƒì¼ ë•Œ ì‚¬ìš©

-   ì„¸ë§ˆí¬ì–´ëŠ” ë®¤í…ìŠ¤ê°€ ë  ìˆ˜ ìˆì§€ë§Œ, ë®¤í…ìŠ¤ëŠ” ì„¸ë§ˆí¬ì–´ê°€ ë  ìˆ˜ ì—†ë‹¤. (ë®¤í…ìŠ¤ê°€ ì„¸ë§ˆí¬ì–´ì— í¬í•¨)
    -   MutexëŠ” 0, 1ë¡œ ì´ë£¨ì–´ì§„ ì´ì§„ ìƒíƒœì´ë¯€ë¡œ Binary Semaphoreë¼ê³  í•  ìˆ˜ ìˆìŒ.

-   MutexëŠ” ìì›ì„ ì†Œìœ  + ì±…ì„ì„ ê°€ì§€ëŠ” ë°˜ë©´, SemaphoreëŠ” ìì› ì†Œìœ ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. (ì•„ë§ˆ ì—¬ëŸ¬ ê°œê°€ ì ‘ê·¼ ê°€ëŠ¥í•´ì„œ ê·¸ëŸ´ê¹Œí•˜ëŠ” ê±´ê°€... ì´ê±´ ë‚´ ìƒê°)
-   MutexëŠ” ì†Œìœ í•˜ê³  ìˆëŠ” ìŠ¤ë ˆë“œ ë§Œì´ ì´ Mutexë¥¼ í•´ì œí•  ìˆ˜ ìˆë‹¤. ë°˜ë©´, SemaphoreëŠ” Semaphoreë¥¼ ì†Œìœ í•˜ì§€ ì•ŠëŠ” ìŠ¤ë ˆë“œê°€ Semaphoreë¥¼ í•´ì œí•  ìˆ˜ ìˆë‹¤.
-   SemaphoreëŠ” ì‹œìŠ¤í…œ ë²”ìœ„ì— ê±¸ì³ ìˆê³  íŒŒì¼ ì‹œìŠ¤í…œ ìƒì˜ íŒŒì¼ë¡œ ì¡´ì¬í•œë‹¤.  
    ë°˜ë©´ MutexëŠ” í”„ë¡œì„¸ìŠ¤ì˜ ë²”ìœ„ë¥¼ ê°€ì§€ë©° í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œë  ë•Œ ìë™ìœ¼ë¡œ Clean upëœë‹¤.

ë®¤í…ìŠ¤ì™€ ì„¸ë§ˆí¬ì–´ëŠ” ëª¨ë‘ ì™„ë²½í•œ ê¸°ë²•ì€ ì•„ë‹ˆë¯€ë¡œ ë°ì´í„°ì˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•  ìˆœ ì—†ìœ¼ë©°

ëª¨ë“  êµì°©ìƒíƒœë¥¼ í•´ê²°í•˜ì§€ëŠ” ëª»í•œë‹¤.

í•˜ì§€ë§Œ **ìƒí˜¸ë°°ì œë¥¼ ìœ„í•œ ê¸°ë³¸ì ì¸ ë¬¸ë²•**ì´ê¸°ì— ì•Œì•„ì•¼ í•˜ëŠ” ì§€ì‹ì´ë‹¤.

---

## âœ”ï¸ ì •ë¦¬ ê²¸ ì˜ˆìƒ ì§ˆë¬¸

Q. ë®¤í…ìŠ¤ì™€ ì„¸ë§ˆí¬ì–´ì˜ ì°¨ì´ì— ëŒ€í•´ ì„¤ëª…í•´ë¼.

A. ë®¤í…ìŠ¤ëŠ” Lockì„ ì‚¬ìš©í•´ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë‚˜ ì“°ë ˆë“œë¥¼ ë‹¨ë…ìœ¼ë¡œ ì‹¤í–‰í•˜ê²Œ í•œë‹¤.

ë°˜ë©´ ì„¸ë§ˆí¬ì–´ëŠ” ê³µìœ ìì›ì— ì„¸ë§ˆí¬ì–´ ë³€ìˆ˜ë§Œí¼ì˜ í”„ë¡œì„¸ìŠ¤(ë˜ëŠ” ì“°ë ˆë“œ)ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

ë˜í•œ ìˆ˜í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ì•„ë‹Œ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì„¸ë§ˆí¬ì–´ë¥¼ í•´ì œí•  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ ë®¤í…ìŠ¤ëŠ” ë½(lock)ì„ íšë“í•œ í”„ë¡œì„¸ìŠ¤ê°€ ë°˜ë“œì‹œ ê·¸ë½ì„ í•´ì œí•´ì•¼ í•œë‹¤.

ì•„ ì–´ë µë‹¤ ì–´ë ¤ì›Œ;;;

---

### ì¶œì²˜

-   [https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Operating%20System/Semaphore%20%26%20Mutex.md](https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Operating%20System/Semaphore%20%26%20Mutex.md)
-   [https://github.com/JaeYeopHan/Interview\_Question\_for\_Beginner/tree/master/OS#%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%8F%99%EA%B8%B0%ED%99%94](https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/OS#%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%8F%99%EA%B8%B0%ED%99%94)
-   [https://worthpreading.tistory.com/90](https://worthpreading.tistory.com/90)
-   [https://heeonii.tistory.com/14](https://heeonii.tistory.com/14)
-   [https://velog.io/@heetaeheo/%EB%AE%A4%ED%85%8D%EC%8A%A4Mutex%EC%99%80-%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4Semaphore%EC%9D%98-%EC%B0%A8%EC%9D%B4](https://velog.io/@heetaeheo/%EB%AE%A4%ED%85%8D%EC%8A%A4Mutex%EC%99%80-%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4Semaphore%EC%9D%98-%EC%B0%A8%EC%9D%B4)
-   [https://velog.io/@hidaehyunlee/Philosophers-%EC%98%88%EC%8B%9C%EC%98%88%EC%A0%9C%EB%A1%9C-%EB%B3%B4%EB%8A%94-%EB%AE%A4%ED%85%8D%EC%8A%A4%EC%99%80-%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4%EC%9D%98-%EC%B0%A8%EC%9D%B4](https://velog.io/@hidaehyunlee/Philosophers-%EC%98%88%EC%8B%9C%EC%98%88%EC%A0%9C%EB%A1%9C-%EB%B3%B4%EB%8A%94-%EB%AE%A4%ED%85%8D%EC%8A%A4%EC%99%80-%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4%EC%9D%98-%EC%B0%A8%EC%9D%B4)